[{"path":"https://expert-guide-29ve1vw.pages.github.io/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tadhg Moore. Maintainer.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"c , \"tadhg.moore6@gmail.com\") e=, person) (2023). AEME: Aquatic Ecosystem Model Ensemble. R package version 0.1.0, https://expert-guide-29ve1vw.pages.github.io/.","code":"@Manual{,   title = {AEME: Aquatic Ecosystem Model Ensemble},   author = {Authors@R: c and email = \"tadhg.moore6@gmail.com\") and {person)}},   year = {2023},   note = {R package version 0.1.0},   url = {https://expert-guide-29ve1vw.pages.github.io/}, }"},{"path":"https://expert-guide-29ve1vw.pages.github.io/index.html","id":"aeme","dir":"","previous_headings":"","what":"Aquatic Ecosystem Model Ensemble","title":"Aquatic Ecosystem Model Ensemble","text":"Aquatic Ecosystem Model Ensemble (AEME) package allows setup run ensemble aquatic ecosystem models. models DYRESM-CAEDYM, GLM-AED GOTM-WET.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Aquatic Ecosystem Model Ensemble","text":"can install development version AEME GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"limnotrack/AEME\")"},{"path":"https://expert-guide-29ve1vw.pages.github.io/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Aquatic Ecosystem Model Ensemble","text":"basic example shows build run one models ensemble:","code":"library(AEME) #> The legacy packages maptools, rgdal, and rgeos, underpinning the sp package, #> which was just loaded, will retire in October 2023. #> Please refer to R-spatial evolution reports for details, especially #> https://r-spatial.org/r/2023/05/15/evolution4.html. #> It may be desirable to make the sf package available; #> package maintainers should consider adding sf to Suggests:. #> The sp package is now running under evolution status 2 #>      (status 2 uses the sf package in place of rgdal) #> Warning: replacing previous import 'stats::filter' by 'dplyr::filter' when #> loading 'gotmtools' #> Please note that 'maptools' will be retired during October 2023, #> plan transition at your earliest convenience (see #> https://r-spatial.org/r/2023/05/15/evolution4.html and earlier blogs #> for guidance);some functionality will be moved to 'sp'. #>  Checking rgeos availability: TRUE ## basic example code tmpdir <- tempdir() aeme_dir <- system.file(\"extdata/lake/\", package = \"AEME\") # Copy files from package into tempdir file.copy(aeme_dir, tmpdir, recursive = TRUE) #> [1] TRUE dir <- file.path(tmpdir, \"lake\") config <- configr::read.config(file.path(dir, \"aeme.yaml\")) mod_ctrls <- read.csv(file.path(dir, \"model_controls.csv\")) inf_factor = c(\"glm_aed\" = 1) outf_factor = c(\"glm_aed\" = 1) model <- c(\"glm_aed\") build_ensemble(dir = dir, config = config, model = model,                mod_ctrls = mod_ctrls, inf_factor = inf_factor, ext_elev = 5,                use_bgc = FALSE, use_lw = TRUE) #> Building simulation for Wainamu [2023-08-22 15:11:46] #> Reading layer `lake' from data source  #>   `C:\\Users\\tadhg\\AppData\\Local\\Temp\\RtmpakEbO5\\lake\\data\\lake.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 1 feature and 14 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 174.4645 ymin: -36.89195 xmax: 174.4757 ymax: -36.88648 #> Geodetic CRS:  WGS 84 #> Spherical geometry (s2) switched off #> Spherical geometry (s2) switched on #> Building GLM3-AED2 model for lake wainamu #> Copied in GLM nml file run_aeme(dir = dir, config = config, model = model, verbose = TRUE) #> Running models... (Have you tried parallelizing?) [2023-08-22 15:11:47] #> Model run complete![2023-08-22 15:11:48]"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/build_ensemble.html","id":null,"dir":"Reference","previous_headings":"","what":"Build model configuration directories — build_ensemble","title":"Build model configuration directories — build_ensemble","text":"Configure ensemble lake model simulations basic set inputs.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/build_ensemble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build model configuration directories — build_ensemble","text":"","code":"build_ensemble(   config,   model = c(\"dy_cd\", \"glm_aed\", \"gotm_wet\"),   mod_ctrls,   inf_factor = c(glm_aed = 1, dy_cd = 1, gotm_wet = 1),   outf_factor = c(glm_aed = 1, dy_cd = 1, gotm_wet = 1),   ext_elev = 0,   use_bgc = TRUE,   use_lw = FALSE,   hum_type = 3,   dir = \".\" )"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/build_ensemble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build model configuration directories — build_ensemble","text":"config list; loaded via `config <- configr::read.config(\"aeme.yaml\")` model vector; models used. Can `dy_cd`, `glm_aed`, `gotm_wet`. mod_ctrls dataframe; configuration loaded \"mod_ctrls.csv\". inf_factor vector; containing numeric factor multiple inflows. Needs named according model. outf_factor vector; containing numeric factor multiple outflows. Needs named according model. ext_elev numeric; extension elevation hypsogrph metres. use_bgc boolean; switch use biogeochemical model. use_lw boolean; use incoming longwave radiation. applies GLM-AED. hum_type numeric; GOTM humidity metric [1=relative humidity ( 2=wet-bulb temperature, 3=dew point temperature, 4=specific humidity (kg/kg)] Default = 3. dir filepath; input files located relative `config`.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/build_ensemble.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build model configuration directories — build_ensemble","text":"builds model ensemble configuration.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/build_ensemble.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build model configuration directories — build_ensemble","text":"","code":"install.packages(\"configr\", repos = \"http://cran.us.r-project.org\") #> Installing package into ‘/tmp/Rtmp4KXWNe/temp_libpath1ab73c941aed’ #> (as ‘lib’ is unspecified) tmpdir <- tempdir() aeme_dir <- system.file(\"extdata/lake/\", package = \"AEME\") # Copy files from package into tempdir file.copy(aeme_dir, tmpdir, recursive = TRUE) #> [1] TRUE dir <- file.path(tmpdir, \"lake\") config <- configr::read.config(file.path(dir, \"aeme.yaml\")) mod_ctrls <- read.csv(file.path(dir, \"model_controls.csv\")) inf_factor = c(\"glm_aed\" = 1) outf_factor = c(\"glm_aed\" = 1) model <- c(\"glm_aed\") build_ensemble(dir = dir, config = config, model = model,                mod_ctrls = mod_ctrls, inf_factor = inf_factor, ext_elev = 5,                use_bgc = FALSE, use_lw = TRUE) #> Building simulation for Wainamu [2023-08-22 21:48:31.985153] #> Reading layer `lake' from data source `/tmp/Rtmp4KXWNe/lake/data/lake.shp' using driver `ESRI Shapefile' #> Simple feature collection with 1 feature and 14 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 174.4645 ymin: -36.89195 xmax: 174.4757 ymax: -36.88648 #> Geodetic CRS:  WGS 84 #> Spherical geometry (s2) switched off #> Spherical geometry (s2) switched on #> Building GLM3-AED2 model for lake wainamu #> Copied in GLM nml file"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/convert_era5.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert ERA5 to AEME or LER — convert_era5","title":"Convert ERA5 to AEME or LER — convert_era5","text":"Convert ERA5 netCDF AEME LakeEnsemblR formats.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/convert_era5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert ERA5 to AEME or LER — convert_era5","text":"","code":"convert_era5(   lat,   lon,   variable = c(\"10m_u_component_of_wind\", \"10m_v_component_of_wind\",     \"2m_dewpoint_temperature\", \"2m_temperature\", \"snowfall\", \"surface_pressure\",     \"surface_solar_radiation_downwards\", \"surface_thermal_radiation_downwards\",     \"total_precipitation\"),   year = 2022,   site = \"test\",   path = \".\",   format = \"AEME\" )"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/convert_era5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert ERA5 to AEME or LER — convert_era5","text":"lat numeric; latitude lon numeric; longitude variable string ERA5 variable names e.g. \"2m_temperature\", \"total_precipitation\" year numeric; vector years site string site name used downloading data. path filepath downloaded ERA5 ncdf files stored. format string; Either \"AEME\" \"LER\". Default \"AEME\".","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/download_era5.html","id":null,"dir":"Reference","previous_headings":"","what":"Download ERA5 — download_era5","title":"Download ERA5 — download_era5","text":"Download ERA5 meteorological data Copernicus Data Store (CDS). Create ECMWF account self registering (https://accounts.ecmwf.int/auth/realms/ecmwf/login-actions/registration?client_id=cms-www&tab_id=kZuwr5qOsFM) retrieving key https://api.ecmwf.int/v1/key/ log .","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/download_era5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download ERA5 — download_era5","text":"","code":"download_era5(   lat,   lon,   variable = c(\"10m_u_component_of_wind\", \"10m_v_component_of_wind\",     \"2m_dewpoint_temperature\", \"2m_temperature\", \"snowfall\", \"surface_pressure\",     \"surface_solar_radiation_downwards\", \"surface_thermal_radiation_downwards\",     \"total_precipitation\"),   year = 2022,   month = 1:12,   site = \"test\",   user = NULL,   era5_dataset = \"reanalysis-era5-land\",   path = \".\",   job = TRUE )"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/download_era5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download ERA5 — download_era5","text":"lat numeric; latitude lon numeric; longitude variable string ERA5 variable names e.g. \"2m_temperature\", \"total_precipitation\" year numeric; year vector years. month numeric; month vector months. Defaults 1:12. site string site name appended file user user ID linked Copernicus account era5_dataset string ERA5 dataset use. Can 'reanalysis-era5-single-levels' 'reanalysis-era5-land' path filepath store downloaded file job logical; send request background job RStudio. works RStudio. Default = TRUE.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/era5_ref_table.html","id":null,"dir":"Reference","previous_headings":"","what":"ERA5 reference table — era5_ref_table","title":"ERA5 reference table — era5_ref_table","text":"reference table variable names ERA5, LER AEME.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/era5_ref_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ERA5 reference table — era5_ref_table","text":"","code":"era5_ref_table"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/era5_ref_table.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ERA5 reference table — era5_ref_table","text":"## `era5_ref_table` data frame 9 rows 6 columns: variable Variable name era5 ERA5 variable names nc ERA nc variable names ler LakeEnsemblR variable names aeme AEME variable names nc ERA nc variable names","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/era5_ref_table.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"ERA5 reference table — era5_ref_table","text":"Package development.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/key_naming.html","id":null,"dir":"Reference","previous_headings":"","what":"Model variable naming — key_naming","title":"Model variable naming — key_naming","text":"reference table variable names models AEME.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/key_naming.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Model variable naming — key_naming","text":"","code":"key_naming"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/key_naming.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Model variable naming — key_naming","text":"## `key_naming` data frame 79 rows 7 columns: name AEME variable name dy_cd DYRESM variable name glm_aed GLM variable name gotm_wet GOTM variable name name_full String variable name name_parse Variable name parsing conversion_aed Unit conversion GLM-AED","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/key_naming.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Model variable naming — key_naming","text":"Package development.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/make_DYCDcfg.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a cfg file for dyresm(caedym) simulation — make_DYCDcfg","title":"Make a cfg file for dyresm(caedym) simulation — make_DYCDcfg","text":"Make cfg file dyresm(caedym) simulation","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/make_DYCDcfg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a cfg file for dyresm(caedym) simulation — make_DYCDcfg","text":"","code":"make_DYCDcfg(   lakename = \"unknown\",   date_range,   verDY = 3.1,   runCD = FALSE,   EXTC = 0.2,   minLyrThk = 0.2,   maxLyrThk = 0.3,   simVars,   filePath )"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/make_DYCDcfg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a cfg file for dyresm(caedym) simulation — make_DYCDcfg","text":"lakename name lake simulated date_range vector start end dates e.g., c(YYYY-MM-DD, YYYY-MM-DD) verDY dyresm version number runCD turn CAEDYM (TRUE) (FALSE) EXTC light extinction coefficient (used runCD == FALSE) minLyrThk minimum layer thickness (default 0.2) maxLyrThk maximum layer thickness (default 3.0) simVars variables simulated (default = DYRESM vars ) filePath dir model, relative working dir","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/make_DYmet.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a .met (meteorology) file for DY(CD) simulation — make_DYmet","title":"Make a .met (meteorology) file for DY(CD) simulation — make_DYmet","text":"Make .met (meteorology) file DY(CD) simulation","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/make_DYmet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a .met (meteorology) file for DY(CD) simulation — make_DYmet","text":"","code":"make_DYmet(   lakename = \"unknown\",   info = \"\",   verDY = 3.1,   obsMet,   infRain = FALSE,   wndType = 0,   metHeight = 10,   z_max,   filePath = \"\" )"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/make_DYmet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a .met (meteorology) file for DY(CD) simulation — make_DYmet","text":"lakename name lake simulated info extra text printed file header (base = 'DYRESM meterological inputs file lake <lake>') verDY DYRESM version obsMet data frame meteorological data DY order standard dates (YYYY-MM-DD) infRain TRUE = set .met rain zero (put inflow instead) wndType 0 = fixed height, 1 = floating metHeight height met station lake surface z_max long-term average max depth lake filePath path write complete .met file","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/run_aeme.html","id":null,"dir":"Reference","previous_headings":"","what":"Run aquatic model ensemble — run_aeme","title":"Run aquatic model ensemble — run_aeme","text":"Run aquatic model ensemble","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/run_aeme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run aquatic model ensemble — run_aeme","text":"","code":"run_aeme(   config,   model,   verbose = FALSE,   debug = FALSE,   timeout = 0,   parallel = FALSE,   dir = \".\" )"},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/run_aeme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run aquatic model ensemble — run_aeme","text":"config list; loaded via `config <- configr::read.config(\"aeme.yaml\")` model vector; models used. Can `dy_cd`, `glm_aed`, `gotm_wet`. verbose boolean; print model output console. Defaults FALSE. debug boolean; write debug log (DYRESM). Defaults FALSE. timeout timeout seconds, ignored 0.  limit     elapsed time running command separate process.   Fractions     seconds ignored. parallel boolean; run models parallel. Defaults FALSE. dir filepath; input files located relative `config`.","code":""},{"path":"https://expert-guide-29ve1vw.pages.github.io/reference/run_aeme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run aquatic model ensemble — run_aeme","text":"Runs model","code":""}]
